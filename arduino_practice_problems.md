# Arduino 종합 실습 문제

## 학습 목표
이 실습 문제는 지금까지 배운 C 프로그래밍 기본 문법과 Arduino 하드웨어 제어를 종합적으로 훈련하기 위해 설계되었습니다.

**복습 내용:**
- 변수와 자료형
- 조건문 (if-else, switch-case)
- 반복문 (for, while)
- 배열
- 함수 작성
- digitalWrite, digitalRead
- delay, millis
- INPUT, OUTPUT, INPUT_PULLUP

---

## 문제 1: LED 순차 점등 패턴 ⭐

**난이도**: 쉬움  
**복습 개념**: 배열, for 반복문, digitalWrite

### 문제
5개의 LED(Pin 9, 10, 11, 12, 13)를 다음 패턴으로 제어하시오:
1. 왼쪽에서 오른쪽으로 순차 점등 (각 300ms)
2. 모두 켜진 상태로 1초 유지
3. 오른쪽에서 왼쪽으로 순차 소등 (각 300ms)
4. 모두 꺼진 상태로 1초 유지
5. 반복

### 요구사항
- 배열을 사용하여 LED 핀 관리
- for 반복문 사용

### 힌트
배열에 핀 번호를 저장하고, for 루프로 순차 제어하세요.

---

## 문제 2: 버튼으로 LED 밝기 조절 ⭐⭐

**난이도**: 보통  
**복습 개념**: digitalRead, 변수, 조건문, analogWrite

### 문제
버튼 1개(Pin 2)와 LED 1개(Pin 9, PWM 핀)를 사용하여:
- 버튼을 누를 때마다 LED 밝기가 단계별로 변경
- 밝기 단계: 0% → 25% → 50% → 75% → 100% → 0% (순환)
- PWM 값: 0, 64, 128, 192, 255

### 요구사항
- 버튼 디바운싱 처리
- 상태 변수로 현재 밝기 단계 저장

### 힌트
변수로 밝기 레벨(0~4)을 저장하고, 버튼 누를 때마다 증가시킨 후 5가 되면 0으로 초기화하세요.

---

## 문제 3: 신호등 시스템 ⭐⭐

**난이도**: 보통  
**복습 개념**: 함수, 조건문, digitalWrite

### 문제
3개의 LED(빨강-Pin 11, 노랑-Pin 12, 초록-Pin 13)로 신호등을 구현하시오:
- 빨강: 5초
- 노랑: 2초 (빨강 → 초록 전환 시)
- 초록: 5초
- 노랑: 2초 (초록 → 빨강 전환 시)
- 반복

### 요구사항
- `setLight(int red, int yellow, int green)` 함수 작성
  - 각 매개변수: HIGH 또는 LOW
- `loop()`에서 함수 호출로 신호등 제어

### 힌트
함수를 만들어 3개 LED 상태를 한 번에 설정하면 코드가 간결해집니다.

---

## 문제 4: 숫자 맞추기 게임 ⭐⭐⭐

**난이도**: 어려움  
**복습 개념**: 변수, while 반복문, 조건문, 함수

### 문제
2개의 버튼(증가-Pin 2, 확인-Pin 3)과 4개의 LED(Pin 9, 10, 11, 12)를 사용:
- 프로그램 시작 시 0~15 사이 랜덤 목표 숫자 생성
- 증가 버튼: 현재 숫자 증가 (0~15 순환), LED에 이진수로 표시
- 확인 버튼: 현재 숫자가 목표 숫자와 같으면 모든 LED 3번 깜빡임, 틀리면 1번 깜빡임
- 정답을 맞추면 새로운 랜덤 숫자로 다시 시작

### 요구사항
- `displayBinary(int num)` 함수로 LED에 이진수 표시
- `blink(int times)` 함수로 깜빡임 처리

### 힌트
`random(0, 16)` 함수로 랜덤 숫자를 생성하고, 비트 연산 또는 조건문으로 이진수를 표시하세요.

---

## 문제 5: 반복 없이 LED 깜빡이기 ⭐⭐⭐

**난이도**: 어려움  
**복습 개념**: millis, 조건문, 변수

### 문제
`delay()` 함수를 **사용하지 않고** LED(Pin 13)를 1초 간격으로 깜빡이게 만드시오.

### 요구사항
- `millis()` 함수 사용
- `delay()` 사용 금지
- LED는 정확히 1초 간격으로 깜빡여야 함

### 힌트
이전 LED 상태 변경 시간을 저장하고, 현재 시간과의 차이가 1000ms 이상이면 상태를 변경하세요.

---

## 문제 6: 타이머 카운트다운 ⭐⭐⭐

**난이도**: 어려움  
**복습 개념**: millis, 함수, 배열, 조건문

### 문제
4개의 LED(Pin 9, 10, 11, 12)와 1개의 버튼(Pin 2)을 사용하여 타이머를 구현:
- 버튼을 누르면 15초 카운트다운 시작
- LED에 남은 시간을 이진수로 표시 (15→14→...→1→0)
- 1초마다 숫자 감소
- 0이 되면 모든 LED 5번 빠르게 깜빡임
- `delay()` 사용 금지

### 요구사항
- `millis()`로 시간 측정
- `displayBinary(int num)` 함수 작성

### 힌트
타이머 시작 시간을 저장하고, 경과 시간을 계산하여 남은 시간을 LED에 표시하세요.

---

## 문제 7: 피아노 건반 시뮬레이션 ⭐⭐

**난이도**: 보통  
**복습 개념**: 배열, for 반복문, digitalRead, digitalWrite

### 문제
3개의 버튼(Pin 2, 3, 4)과 3개의 LED(Pin 11, 12, 13)를 사용:
- 각 버튼을 누르면 해당 LED만 켜짐
- 여러 버튼을 동시에 누르면 여러 LED 동시 켜짐
- 버튼을 떼면 해당 LED 꺼짐

### 요구사항
- 배열 사용하여 버튼과 LED 핀 관리
- for 반복문으로 모든 버튼 상태 확인

### 힌트
버튼 배열과 LED 배열을 만들고, for 루프로 각 버튼 상태를 확인하여 해당 LED를 제어하세요.

---

## 문제 8: 가위바위보 게임 ⭐⭐⭐⭐

**난이도**: 매우 어려움  
**복습 개념**: 변수, 조건문, 함수, 배열, digitalRead, digitalWrite

### 문제
3개의 버튼(Pin 2, 3, 4)과 5개의 LED를 사용하여 가위바위보 게임 구현:
- 버튼 1(Pin 2): 가위
- 버튼 2(Pin 3): 바위
- 버튼 3(Pin 4): 보
- LED 표시 (Pin 9, 10, 11):
  - 가위: 2개 LED 켜짐 (Pin 9, 10)
  - 바위: 1개 LED 켜짐 (Pin 9)
  - 보: 3개 LED 켜짐 (Pin 9, 10, 11)
- 결과 LED (Pin 12, 13):
  - 승리: Pin 13 3번 깜빡임
  - 패배: Pin 12 3번 깜빡임
  - 무승부: 둘 다 1번 깜빡임

### 게임 흐름
1. 버튼을 누를 때까지 대기
2. 버튼 누르면 컴퓨터 랜덤 선택 (0~2)
3. 선택 LED 표시 (2초)
4. 결과 판정 및 LED로 표시
5. 3초 대기 후 다시 시작

### 요구사항
- `int getComputerChoice()` 함수: 랜덤 선택 (0~2 반환)
- `void displayChoice(int choice)` 함수: 선택 표시
- `int judge(int player, int computer)` 함수: 승패 판정 (1=승, 0=무, -1=패)
- `void displayResult(int result)` 함수: 결과 LED 표시

### 힌트
가위(0), 바위(1), 보(2)로 숫자화하고, 승패 판정은 (player - computer + 3) % 3 연산을 활용할 수 있습니다.

---

## 문제 9: 나이트 라이더 효과 (왕복) ⭐⭐

**난이도**: 보통  
**복습 개념**: 배열, for 반복문, 변수

### 문제
5개의 LED(Pin 9, 10, 11, 12, 13)를 사용하여:
- 한 개의 LED만 켜진 채로 왼쪽에서 오른쪽으로 이동
- 끝에 도달하면 방향을 바꿔 오른쪽에서 왼쪽으로 이동
- 각 LED는 100ms 동안 켜짐
- 무한 반복

### 요구사항
- 배열 사용
- 방향 변수 사용 (1 또는 -1)

### 힌트
현재 위치와 방향을 변수로 저장하고, 끝에 도달하면 방향을 반전시키세요.

---

## 문제 10: 종합 - 다기능 시스템 ⭐⭐⭐⭐

**난이도**: 매우 어려움  
**복습 개념**: 모든 개념 종합

### 문제
3개의 버튼과 5개의 LED를 사용하여 모드 전환 시스템 구현:

**모드 1 (기본)**: LED 순차 점등 (문제 1과 유사)
**모드 2**: 이진 카운터 (0~31 순환, LED에 이진수 표시, 1초 간격)
**모드 3**: 나이트 라이더 효과 (문제 9와 유사)

**버튼 기능**:
- 버튼 1(Pin 2): 다음 모드로 전환
- 버튼 2(Pin 3): 속도 증가 (delay 감소: 500ms → 250ms → 100ms → 500ms 순환)
- 버튼 3(Pin 4): 일시정지/재개 토글

### 요구사항
- 모드별 함수 분리: `mode1()`, `mode2()`, `mode3()`
- 전역 변수로 현재 모드, 속도, 일시정지 상태 관리
- `delay()` 대신 `millis()` 사용 권장 (일시정지 기능 구현 시 필수)

### 힌트
전역 변수로 상태를 관리하고, loop()에서 현재 모드에 따라 해당 함수를 호출하세요.

---

## 회로 구성 가이드

### 기본 회로 (대부분의 문제에 사용)

**LED 연결:**
```
Pin 9  → 220Ω → LED → GND 레일
Pin 10 → 220Ω → LED → GND 레일
Pin 11 → 220Ω → LED → GND 레일
Pin 12 → 220Ω → LED → GND 레일
Pin 13 → 220Ω → LED → GND 레일
```

**버튼 연결:**
```
Pin 2 → 버튼(1a) → 버튼(2a) → GND 레일
Pin 3 → 버튼(1a) → 버튼(2a) → GND 레일
Pin 4 → 버튼(1a) → 버튼(2a) → GND 레일
```

**공통 연결:**
```
Arduino GND → 브레드보드 GND 레일
```

---

## 제출 가이드

### 제출 형식
1. Tinkercad 링크 (회로 + 코드)
2. 코드 파일 (.ino)
3. 동작 영상 또는 스크린샷 (선택)

### 코드 작성 규칙
```c
// 문제 번호와 제목을 주석으로 명시
// 예: 문제 1 - LED 순차 점등 패턴

// 전역 변수는 상단에 선언하고 주석 작성
const int LED_PINS[5] = {9, 10, 11, 12, 13};  // LED 핀 배열

void setup() {
  // 초기화 코드
}

void loop() {
  // 메인 로직
}

// 사용자 정의 함수는 loop() 아래에 작성
```

### 평가 기준
- **정확성** (40%): 요구사항대로 동작하는가?
- **코드 품질** (30%): 가독성, 주석, 변수명
- **효율성** (20%): 불필요한 코드 반복 없음
- **창의성** (10%): 추가 기능 또는 개선

---

## 학습 팁

### 문제 해결 순서
1. **문제 분석**: 요구사항을 명확히 이해
2. **슈도코드**: 알고리즘을 자연어로 작성
3. **회로 구성**: 필요한 부품 연결
4. **단계별 구현**: 한 번에 하나의 기능씩
5. **테스트**: 각 기능이 제대로 작동하는지 확인
6. **디버깅**: 문제가 있으면 Serial 출력으로 확인

### 막힐 때 체크리스트
□ 회로 연결이 올바른가?  
□ pinMode()를 모든 핀에 설정했는가?  
□ INPUT_PULLUP을 버튼에 사용했는가?  
□ 변수 초기화를 했는가?  
□ 세미콜론(;)을 빠뜨리지 않았는가?  
□ 중괄호 {}의 짝이 맞는가?  
□ 배열 인덱스가 범위 내인가?  

### 추가 도전 과제
각 문제를 완성한 후:
- 속도를 조절할 수 있는 기능 추가
- 버튼으로 패턴 변경
- 여러 패턴을 조합한 복합 시스템 구현

---

**행운을 빕니다!**

문제를 스스로 해결하면서 실력이 크게 향상될 것입니다. 막히는 부분이 있다면 공식 Arduino Reference 문서를 참고하세요.

**참고 자료:**
- [Arduino Reference](https://www.arduino.cc/reference/en/)
- [Arduino Language Structure](https://www.arduino.cc/reference/en/#structure)
