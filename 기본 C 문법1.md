# C 언어 기본 문법

## 학습 목표

이 자료를 통해 다음을 이해할 수 있습니다:
- 변수와 자료형
- 연산자
- 입출력 (printf, scanf)
- 주석 작성법
- C 프로그램의 기본 구조

---

## 1. C 프로그램의 기본 구조

모든 C 프로그램은 다음과 같은 기본 구조를 가집니다:

```c
#include <stdio.h>

int main(void) {
    // 여기에 코드를 작성합니다
    
    return 0;
}
```

**각 부분의 의미:**

### `#include <stdio.h>`
- **전처리기 지시문**: 컴파일 전에 먼저 처리되는 명령
- `stdio.h`: **St**andar**d** **I**nput/**O**utput 헤더 파일
- `printf()`, `scanf()` 같은 입출력 함수를 사용하기 위해 필요
- 수학적 비유: 공식이나 정리를 사용하기 전에 먼저 정의하는 것과 같음

### `int main(void)`
- **main 함수**: 프로그램의 시작점
- 모든 C 프로그램은 반드시 `main` 함수를 가져야 합니다
- `int`: 정수(integer)를 반환한다는 의미
- `void`: 매개변수가 없다는 의미

### `return 0;`
- 프로그램이 정상적으로 종료되었음을 운영체제에 알림
- 0은 "성공"을 의미하는 관례
- 0이 아닌 값은 오류를 의미

---

## 2. 주석 (Comments)

주석은 프로그램 실행에 영향을 주지 않는 설명문입니다.

### 한 줄 주석
```c
// 이것은 한 줄 주석입니다
int x = 5;  // 변수 선언 옆에도 쓸 수 있습니다
```

### 여러 줄 주석
```c
/*
  이것은
  여러 줄
  주석입니다
*/
```

**주석을 쓰는 이유:**
- 코드의 의도를 설명
- 나중에 코드를 다시 볼 때 이해하기 쉽게
- 다른 사람과 협업할 때 소통

---

## 3. 변수 (Variables)

변수는 데이터를 저장하는 공간입니다.

**수학적 비유**: 수학에서 x, y, z 같은 문자로 값을 표현하는 것과 같습니다.

### 3.1 변수 선언과 초기화

```c
int age;           // 선언: age라는 정수 변수 생성
age = 20;          // 할당: age에 20을 저장

int height = 175;  // 선언과 동시에 초기화
```

**중요**: 변수를 사용하기 전에 반드시 선언해야 합니다.

### 3.2 변수 이름 규칙

**가능한 이름:**
- 영문자(a-z, A-Z), 숫자(0-9), 밑줄(_) 사용 가능
- 반드시 영문자나 밑줄로 시작
- 대소문자 구분 (`age`와 `Age`는 다름)

```c
int student_count;  // ✓ 좋음
int studentCount;   // ✓ 좋음 (카멜 케이스)
int _temp;          // ✓ 가능
```

**불가능한 이름:**
```c
int 2024year;       // ✗ 숫자로 시작 불가
int student-count;  // ✗ 하이픈(-) 사용 불가
int int;            // ✗ 예약어 사용 불가
```

**예약어 (사용 불가):**
`int`, `float`, `double`, `char`, `if`, `else`, `while`, `for`, `return` 등

---

## 4. 자료형 (Data Types)

자료형은 변수가 저장할 데이터의 종류를 지정합니다.

### 4.1 기본 자료형

| 자료형 | 크기 | 범위 | 용도 |
|--------|------|------|------|
| `int` | 4 bytes | -2,147,483,648 ~ 2,147,483,647 | 정수 |
| `float` | 4 bytes | 약 ±3.4 × 10³⁸ (소수점 6-7자리) | 실수 |
| `double` | 8 bytes | 약 ±1.7 × 10³⁰⁸ (소수점 15-16자리) | 배정밀도 실수 |
| `char` | 1 byte | -128 ~ 127 또는 0 ~ 255 | 문자 |

### 4.2 정수형: int

```c
int students = 30;
int temperature = -5;
int year = 2024;

printf("학생 수: %d명\n", students);
```

**수학적 비유**: ℤ (정수 집합)
- 예: ..., -2, -1, 0, 1, 2, ...

### 4.3 실수형: float, double

```c
float pi = 3.14f;              // f를 붙여 float임을 명시
double e = 2.718281828459045;

printf("원주율: %.2f\n", pi);  // 소수점 2자리까지
printf("자연상수: %.15f\n", e); // 소수점 15자리까지
```

**수학적 비유**: ℝ (실수 집합)
- 예: 3.14159..., 2.71828..., √2

**float vs double:**
- `float`: 빠르지만 정밀도 낮음 (공학 계산)
- `double`: 느리지만 정밀도 높음 (과학 계산) → **수학 계산시 권장**

### 4.4 문자형: char

```c
char grade = 'A';
char symbol = '+';

printf("학점: %c\n", grade);
```

문자는 반드시 **작은따옴표**(`'`)로 묶습니다.

**내부 표현**: 문자는 실제로 정수(ASCII 코드)로 저장됩니다.
```c
char letter = 'A';  // 내부적으로 65로 저장
printf("%d\n", letter);  // 65 출력
```

---

## 5. 연산자 (Operators)

### 5.1 산술 연산자

| 연산자 | 의미 | 예제 | 결과 |
|--------|------|------|------|
| `+` | 덧셈 | `5 + 3` | `8` |
| `-` | 뺄셈 | `5 - 3` | `2` |
| `*` | 곱셈 | `5 * 3` | `15` |
| `/` | 나눗셈 | `5 / 3` | `1` (정수 나눗셈) |
| `%` | 나머지 | `5 % 3` | `2` |

```c
int a = 10, b = 3;

printf("덧셈: %d\n", a + b);   // 13
printf("뺄셈: %d\n", a - b);   // 7
printf("곱셈: %d\n", a * b);   // 30
printf("나눗셈: %d\n", a / b); // 3 (정수 나눗셈!)
printf("나머지: %d\n", a % b); // 1
```

**주의**: 정수 나눗셈의 함정
```c
int result = 5 / 2;        // result = 2 (소수점 버림)
double result2 = 5 / 2;    // result2 = 2.0 (여전히 정수 나눗셈 후 변환)
double result3 = 5.0 / 2;  // result3 = 2.5 (실수 나눗셈)
```

**수학적 비유**:
- `5 / 2` = ⌊5/2⌋ = 2 (floor 함수)
- `5 % 2` = 5 mod 2 = 1 (나머지 연산, 모듈로)

### 5.2 대입 연산자

```c
int x = 10;    // x에 10을 저장

x = x + 5;     // x를 5 증가 → x = 15
x += 5;        // 위와 동일한 의미 (복합 대입 연산자)
```

**복합 대입 연산자:**
```c
x += 5;   // x = x + 5
x -= 3;   // x = x - 3
x *= 2;   // x = x * 2
x /= 4;   // x = x / 4
x %= 3;   // x = x % 3
```

### 5.3 증감 연산자

```c
int count = 5;

count++;   // count = count + 1 → 6
count--;   // count = count - 1 → 5
++count;   // count = count + 1 → 6
```

**전위 vs 후위:**
```c
int a = 5;
int b = ++a;  // a를 먼저 증가(6), 그 다음 b에 할당 → a=6, b=6

int c = 5;
int d = c++;  // c를 먼저 d에 할당(5), 그 다음 증가 → c=6, d=5
```

---

## 6. 입출력

### 6.1 출력: printf()

`printf()`는 **formatted print**의 약자입니다.

**기본 형식:**
```c
printf("형식 문자열", 값1, 값2, ...);
```

**형식 지정자 (Format Specifiers):**

| 지정자 | 자료형 | 의미 |
|--------|--------|------|
| `%d` | `int` | 10진수 정수 |
| `%f` | `float`, `double` | 실수 |
| `%c` | `char` | 문자 |
| `%s` | 문자열 | 문자열 |
| `%x` | `int` | 16진수 |
| `%o` | `int` | 8진수 |

**예제:**
```c
int age = 20;
double height = 175.5;
char grade = 'A';

printf("나이: %d세\n", age);
printf("키: %.1f cm\n", height);
printf("학점: %c\n", grade);
printf("이름: %s, 나이: %d\n", "철수", age);
```

**출력:**
```
나이: 20세
키: 175.5 cm
학점: A
이름: 철수, 나이: 20
```

**소수점 자리 지정:**
```c
double pi = 3.141592653589793;

printf("%.2f\n", pi);  // 3.14
printf("%.5f\n", pi);  // 3.14159
printf("%f\n", pi);    // 3.141593 (기본 6자리)
```

**이스케이프 시퀀스:**
```c
printf("첫 줄\n두 번째 줄\n");    // \n: 줄바꿈
printf("탭\t구분\t테스트\n");      // \t: 탭
printf("\"따옴표\"\n");             // \": 큰따옴표
printf("백슬래시: \\\n");          // \\: 백슬래시
```

### 6.2 입력: scanf()

`scanf()`는 **scan formatted**의 약자입니다.

**기본 형식:**
```c
scanf("형식 문자열", &변수1, &변수2, ...);
```

**중요**: 변수 앞에 `&` (주소 연산자)를 붙여야 합니다!

#### 6.2.1 정수 입력

```c
int age;
printf("나이를 입력하세요: ");
scanf("%d", &age);
printf("당신의 나이는 %d세입니다.\n", age);
```

**실행 예:**
```
나이를 입력하세요: 20
당신의 나이는 20세입니다.
```

#### 6.2.2 여러 값 입력

```c
int year, month, day;
printf("생년월일을 입력하세요 (YYYY MM DD): ");
scanf("%d %d %d", &year, &month, &day);
printf("생일: %d년 %d월 %d일\n", year, month, day);
```

**실행 예:**
```
생년월일을 입력하세요 (YYYY MM DD): 2000 5 15
생일: 2000년 5월 15일
```

#### 6.2.3 실수 입력

```c
double weight;
printf("몸무게를 입력하세요 (kg): ");
scanf("%lf", &weight);  // double은 %lf 사용!
printf("당신의 몸무게: %.1f kg\n", weight);
```

**주의사항:**
- `float`: `scanf("%f", &변수)`
- `double`: `scanf("%lf", &변수)` ← **주의: %lf**
- 출력 시 둘 다 `%f` 사용 가능

#### 6.2.4 문자 입력

```c
char grade;
printf("학점을 입력하세요 (A/B/C/D/F): ");
scanf(" %c", &grade);  // 주의: 앞에 공백 추가
printf("당신의 학점: %c\n", grade);
```

**중요**: `%c` 앞에 공백을 넣으면 이전 입력의 빈 공간을 무시합니다.

**예제:**
```c
int age;
char grade;

printf("나이: ");
scanf("%d", &age);

printf("학점: ");
scanf(" %c", &grade);  // 공백 필수!

printf("나이: %d, 학점: %c\n", age, grade);
```

#### 6.2.5 문자열 입력 (한 단어만)

```c
char name[50];  // 최대 49글자 저장 가능
printf("이름을 입력하세요: ");
scanf("%s", name);  // 주의: &를 붙이지 않습니다!
printf("안녕하세요, %s님!\n", name);
```

**실행 예:**
```
이름을 입력하세요: 홍길동
안녕하세요, 홍길동님!
```

**중요한 제약사항**: `scanf("%s", ...)`는 **공백을 만나면 입력을 멈춥니다**.

```c
// 문제 발생 예시
char name[50];
scanf("%s", name);
```

**입력**: `홍 길동` (공백 포함)  
**실제 저장**: `홍` (공백 전까지만)

**결론**: 
- 공백이 없는 한 단어만 입력받을 때 사용 (예: ID, 파일명)
- 공백이 포함된 문자열 입력은 **배열과 포인터를 배운 후** 다룰 예정입니다

---

## 7. 간단한 계산 프로그램 예제

### 예제 1: 두 수의 합

```c
#include <stdio.h>

int main(void) {
    int num1, num2, sum;
    
    printf("첫 번째 숫자: ");
    scanf("%d", &num1);
    
    printf("두 번째 숫자: ");
    scanf("%d", &num2);
    
    sum = num1 + num2;
    
    printf("%d + %d = %d\n", num1, num2, sum);
    
    return 0;
}
```

**실행 예:**
```
첫 번째 숫자: 10
두 번째 숫자: 20
10 + 20 = 30
```

### 예제 1-2: 이름과 나이 (문자열 입력)

```c
#include <stdio.h>

int main(void) {
    char name[50];
    int age;
    
    printf("이름: ");
    scanf("%s", name);  // 공백 없는 이름만 가능
    
    printf("나이: ");
    scanf("%d", &age);
    
    printf("\n안녕하세요, %s님!\n", name);
    printf("나이: %d세\n", age);
    
    return 0;
}
```

**실행 예:**
```
이름: 홍길동
나이: 20

안녕하세요, 홍길동님!
나이: 20세
```

**주의**: 이름에 공백이 있으면 올바르게 동작하지 않습니다. 공백 포함 문자열 입력은 나중에 배웁니다.

### 예제 2: 원의 넓이 계산

```c
#include <stdio.h>

int main(void) {
    double radius, area;
    const double PI = 3.141592653589793;
    
    printf("반지름을 입력하세요: ");
    scanf("%lf", &radius);
    
    area = PI * radius * radius;
    
    printf("반지름 %.2f인 원의 넓이: %.2f\n", radius, area);
    
    return 0;
}
```

**수학 공식**: A = πr²

**실행 예:**
```
반지름을 입력하세요: 5
반지름 5.00인 원의 넓이: 78.54
```

**새로운 개념: `const`**
- `const`: 상수(constant)를 선언
- 값을 변경할 수 없음
- 수학의 상수(π, e 등)를 표현하기 적합

### 예제 3: 섭씨를 화씨로 변환

```c
#include <stdio.h>

int main(void) {
    double celsius, fahrenheit;
    
    printf("섭씨 온도: ");
    scanf("%lf", &celsius);
    
    fahrenheit = celsius * 9.0 / 5.0 + 32.0;
    
    printf("섭씨 %.1f도 = 화씨 %.1f도\n", celsius, fahrenheit);
    
    return 0;
}
```

**수학 공식**: F = C × 9/5 + 32

**실행 예:**
```
섭씨 온도: 25
섭씨 25.0도 = 화씨 77.0도
```

**주의**: `9.0 / 5.0`로 실수 나눗셈을 해야 합니다!
- `9 / 5` = 1 (정수 나눗셈)
- `9.0 / 5.0` = 1.8 (실수 나눗셈)

---

## 8. 타입 변환 (Type Casting)

### 8.1 암묵적 변환 (Implicit Casting)

```c
int a = 5;
double b = a;  // int → double 자동 변환
printf("%f\n", b);  // 5.000000
```

### 8.2 명시적 변환 (Explicit Casting)

```c
int a = 5, b = 2;
double result;

result = a / b;           // 2.0 (정수 나눗셈 후 변환)
result = (double)a / b;   // 2.5 (실수 나눗셈)

printf("%.1f\n", result);
```

**형변환 문법:**
```c
(타입)변수
(double)5     // 5를 double로 변환
(int)3.14     // 3.14를 int로 변환 → 3
```

---

## 9. 실습 문제

### 문제 1: 평균 계산
세 과목의 점수를 입력받아 평균을 계산하는 프로그램을 작성하세요.

**출력 예:**
```
수학 점수: 90
영어 점수: 85
과학 점수: 88
평균: 87.67점
```

### 문제 2: 직사각형 넓이와 둘레
직사각형의 가로와 세로를 입력받아 넓이와 둘레를 계산하는 프로그램을 작성하세요.

**수학 공식:**
- 넓이: A = w × h
- 둘레: P = 2(w + h)

### 문제 3: 시간 변환
초(seconds)를 입력받아 시, 분, 초로 변환하는 프로그램을 작성하세요.

**예**: 3661초 → 1시간 1분 1초

**힌트:**
- 시간 = 초 / 3600
- 분 = (초 % 3600) / 60
- 초 = 초 % 60

---

## 10. 요약

### 필수 개념

1. **프로그램 구조**: `#include`, `main()`, `return 0`
2. **변수**: 데이터를 저장하는 공간
3. **자료형**: `int`, `double`, `char`
4. **연산자**: 산술(`+`, `-`, `*`, `/`, `%`), 대입(`=`, `+=`), 증감(`++`, `--`)
5. **입출력**: `printf()`, `scanf()`

### 형식 지정자

| 출력 | 입력 | 자료형 |
|------|------|--------|
| `%d` | `%d` | `int` |
| `%f` | `%f` | `float` |
| `%f` | `%lf` | `double` |
| `%c` | `%c` (앞에 공백) | `char` |
| `%s` | `%s` | 문자열 (공백 불가) |

### 주의사항

- 변수는 사용 전에 선언
- `scanf()`에는 `&` 붙이기 (문자열 제외)
- `double` 입력은 `%lf` 사용
- 정수 나눗셈 주의 (5/2 = 2)
- 실수 계산은 `.0` 붙이기 (9.0/5.0)
- 문자 입력은 `scanf(" %c", &변수)` ← 앞에 공백
- 문자열 입력은 `scanf("%s", 변수)` ← `&` 없음, 공백 불가

---

## 참고 자료

- **ISO/IEC 9899:2018** - C Programming Language Standard
  - Section 7.21: Input/output `<stdio.h>`
- **Kernighan, Brian W., and Dennis M. Ritchie.** *The C Programming Language.* 2nd ed., Prentice Hall, 1988.
  - Chapter 1: A Tutorial Introduction
  - Chapter 2: Types, Operators, and Expressions
  - Chapter 7: Input and Output